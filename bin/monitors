#!/bin/sh

layouts_dir="$HOME/.screenlayout"
mkdir -p "$layouts_dir"

set_dpi() {
    xrandr --dpi "$1"
    echo "Xft.dpi: $1" | xrdb -merge
}

ref=$(xrandr | awk '$2 == "connected" { print $1 }' | sort | tr '\n' '_' | sed 's/_$//')

layout="$layouts_dir/${ref}.sh"

# Source layout if found
if [ -f "$layout" ]; then
    . "$layout"
else
    echo "No layout file found. Create one at:"
    echo "$layout"
fi

# Restore wallpaper
nitrogen --restore 2>/dev/null
